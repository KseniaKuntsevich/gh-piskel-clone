/** *** */ (function (modules) { // webpackBootstrap
/** *** */ 	// The module cache
/** *** */ 	const installedModules = {};
  /** *** */
  /** *** */ 	// The require function
  /** *** */ 	function __webpack_require__(moduleId) {
    /** *** */
    /** *** */ 		// Check if module is in cache
    /** *** */ 		if (installedModules[moduleId]) {
      /** *** */ 			return installedModules[moduleId].exports;
      /** *** */ 		}
    /** *** */ 		// Create a new module (and put it into the cache)
    /** *** */ 		const module = installedModules[moduleId] = {
      /** *** */ 			i: moduleId,
      /** *** */ 			l: false,
      /** *** */ 			exports: {},
      /** *** */ 		};
    /** *** */
    /** *** */ 		// Execute the module function
    /** *** */ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
    /** *** */
    /** *** */ 		// Flag the module as loaded
    /** *** */ 		module.l = true;
    /** *** */
    /** *** */ 		// Return the exports of the module
    /** *** */ 		return module.exports;
    /** *** */ 	}
  /** *** */
  /** *** */
  /** *** */ 	// expose the modules object (__webpack_modules__)
  /** *** */ 	__webpack_require__.m = modules;
  /** *** */
  /** *** */ 	// expose the module cache
  /** *** */ 	__webpack_require__.c = installedModules;
  /** *** */
  /** *** */ 	// define getter function for harmony exports
  /** *** */ 	__webpack_require__.d = function (exports, name, getter) {
    /** *** */ 		if (!__webpack_require__.o(exports, name)) {
      /** *** */ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
      /** *** */ 		}
    /** *** */ 	};
  /** *** */
  /** *** */ 	// define __esModule on exports
  /** *** */ 	__webpack_require__.r = function (exports) {
    /** *** */ 		if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {
      /** *** */ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
      /** *** */ 		}
    /** *** */ 		Object.defineProperty(exports, '__esModule', { value: true });
    /** *** */ 	};
  /** *** */
  /** *** */ 	// create a fake namespace object
  /** *** */ 	// mode & 1: value is a module id, require it
  /** *** */ 	// mode & 2: merge all properties of value into the ns
  /** *** */ 	// mode & 4: return value when already ns object
  /** *** */ 	// mode & 8|1: behave like require
  /** *** */ 	__webpack_require__.t = function (value, mode) {
    /** *** */ 		if (mode & 1) value = __webpack_require__(value);
    /** *** */ 		if (mode & 8) return value;
    /** *** */ 		if ((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
    /** *** */ 		const ns = Object.create(null);
    /** *** */ 		__webpack_require__.r(ns);
    /** *** */ 		Object.defineProperty(ns, 'default', { enumerable: true, value });
    /** *** */ 		if (mode & 2 && typeof value !== 'string') for (const key in value) __webpack_require__.d(ns, key, ((key) => value[key]).bind(null, key));
    /** *** */ 		return ns;
    /** *** */ 	};
  /** *** */
  /** *** */ 	// getDefaultExport function for compatibility with non-harmony modules
  /** *** */ 	__webpack_require__.n = function (module) {
    /** *** */ 		const getter = module && module.__esModule
    /** *** */ 			? function getDefault() { return module.default; }
    /** *** */ 			: function getModuleExports() { return module; };
    /** *** */ 		__webpack_require__.d(getter, 'a', getter);
    /** *** */ 		return getter;
    /** *** */ 	};
  /** *** */
  /** *** */ 	// Object.prototype.hasOwnProperty.call
  /** *** */ 	__webpack_require__.o = function (object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
  /** *** */
  /** *** */ 	// __webpack_public_path__
  /** *** */ 	__webpack_require__.p = '';
  /** *** */
  /** *** */
  /** *** */ 	// Load entry module and return exports
  /** *** */ 	return __webpack_require__(__webpack_require__.s = 0);
/** *** */ }({

  /***/ './app.js':
  /*! ****************!*\
  !*** ./app.js ***!
  \*************** */
  /*! no exports provided */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _screens_canvas_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./screens/canvas/index.js */ "./screens/canvas/index.js");\n\nObject(_screens_canvas_index_js__WEBPACK_IMPORTED_MODULE_0__["default"])();\n\n//# sourceURL=webpack:///./app.js?');
    /***/ }),

  /***/ './node_modules/bootstrap/dist/css/bootstrap.min.css':
  /*! ***********************************************************!*\
  !*** ./node_modules/bootstrap/dist/css/bootstrap.min.css ***!
  \********************************************************** */
  /*! no static exports found */
  /***/ (function (module, exports, __webpack_require__) {
    eval('// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./node_modules/bootstrap/dist/css/bootstrap.min.css?');
    /***/ }),

  /***/ './node_modules/gif.js/dist/gif.js':
  /*! *****************************************!*\
  !*** ./node_modules/gif.js/dist/gif.js ***!
  \**************************************** */
  /*! no static exports found */
  /***/ (function (module, exports, __webpack_require__) {
    eval("var require;var require;// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function(f){if(true){module.exports=f()}else { var g; }})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError(\"n must be a positive number\");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type===\"error\"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified \"error\" event. ('+er+\")\");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events)this._events={};if(this._events.newListener)this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error(\"(node) warning: possible EventEmitter memory \"+\"leak detected. %d listeners added. \"+\"Use emitter.setMaxListeners() to increase limit.\",this._events[type].length);if(typeof console.trace===\"function\"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key===\"removeListener\")continue;this.removeAllListeners(key)}this.removeAllListeners(\"removeListener\");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg===\"function\"}function isNumber(arg){return typeof arg===\"number\"}function isObject(arg){return typeof arg===\"object\"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],2:[function(require,module,exports){var UA,browser,mode,platform,ua;ua=navigator.userAgent.toLowerCase();platform=navigator.platform.toLowerCase();UA=ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0];mode=UA[1]===\"ie\"&&document.documentMode;browser={name:UA[1]===\"version\"?UA[3]:UA[1],version:mode||parseFloat(UA[1]===\"opera\"&&UA[4]?UA[4]:UA[2]),platform:{name:ua.match(/ip(?:ad|od|hone)/)?\"ios\":(ua.match(/(?:webos|android)/)||platform.match(/mac|win|linux/)||[\"other\"])[0]}};browser[browser.name]=true;browser[browser.name+parseInt(browser.version,10)]=true;browser.platform[browser.platform.name]=true;module.exports=browser},{}],3:[function(require,module,exports){var EventEmitter,GIF,browser,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},slice=[].slice;EventEmitter=require(\"events\").EventEmitter;browser=require(\"./browser.coffee\");GIF=function(superClass){var defaults,frameDefaults;extend(GIF,superClass);defaults={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#fff\",quality:10,width:null,height:null,transparent:null,debug:false,dither:false};frameDefaults={delay:500,copy:false};function GIF(options){var base,key,value;this.running=false;this.options={};this.frames=[];this.freeWorkers=[];this.activeWorkers=[];this.setOptions(options);for(key in defaults){value=defaults[key];if((base=this.options)[key]==null){base[key]=value}}}GIF.prototype.setOption=function(key,value){this.options[key]=value;if(this._canvas!=null&&(key===\"width\"||key===\"height\")){return this._canvas[key]=value}};GIF.prototype.setOptions=function(options){var key,results,value;results=[];for(key in options){if(!hasProp.call(options,key))continue;value=options[key];results.push(this.setOption(key,value))}return results};GIF.prototype.addFrame=function(image,options){var frame,key;if(options==null){options={}}frame={};frame.transparent=this.options.transparent;for(key in frameDefaults){frame[key]=options[key]||frameDefaults[key]}if(this.options.width==null){this.setOption(\"width\",image.width)}if(this.options.height==null){this.setOption(\"height\",image.height)}if(typeof ImageData!==\"undefined\"&&ImageData!==null&&image instanceof ImageData){frame.data=image.data}else if(typeof CanvasRenderingContext2D!==\"undefined\"&&CanvasRenderingContext2D!==null&&image instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!==\"undefined\"&&WebGLRenderingContext!==null&&image instanceof WebGLRenderingContext){if(options.copy){frame.data=this.getContextData(image)}else{frame.context=image}}else if(image.childNodes!=null){if(options.copy){frame.data=this.getImageData(image)}else{frame.image=image}}else{throw new Error(\"Invalid image\")}return this.frames.push(frame)};GIF.prototype.render=function(){var i,j,numWorkers,ref;if(this.running){throw new Error(\"Already running\")}if(this.options.width==null||this.options.height==null){throw new Error(\"Width and height must be set prior to rendering\")}this.running=true;this.nextFrame=0;this.finishedFrames=0;this.imageParts=function(){var j,ref,results;results=[];for(i=j=0,ref=this.frames.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){results.push(null)}return results}.call(this);numWorkers=this.spawnWorkers();if(this.options.globalPalette===true){this.renderNextFrame()}else{for(i=j=0,ref=numWorkers;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){this.renderNextFrame()}}this.emit(\"start\");return this.emit(\"progress\",0)};GIF.prototype.abort=function(){var worker;while(true){worker=this.activeWorkers.shift();if(worker==null){break}this.log(\"killing active worker\");worker.terminate()}this.running=false;return this.emit(\"abort\")};GIF.prototype.spawnWorkers=function(){var j,numWorkers,ref,results;numWorkers=Math.min(this.options.workers,this.frames.length);(function(){results=[];for(var j=ref=this.freeWorkers.length;ref<=numWorkers?j<numWorkers:j>numWorkers;ref<=numWorkers?j++:j--){results.push(j)}return results}).apply(this).forEach(function(_this){return function(i){var worker;_this.log(\"spawning worker \"+i);worker=new Worker(_this.options.workerScript);worker.onmessage=function(event){_this.activeWorkers.splice(_this.activeWorkers.indexOf(worker),1);_this.freeWorkers.push(worker);return _this.frameFinished(event.data)};return _this.freeWorkers.push(worker)}}(this));return numWorkers};GIF.prototype.frameFinished=function(frame){var i,j,ref;this.log(\"frame \"+frame.index+\" finished - \"+this.activeWorkers.length+\" active\");this.finishedFrames++;this.emit(\"progress\",this.finishedFrames/this.frames.length);this.imageParts[frame.index]=frame;if(this.options.globalPalette===true){this.options.globalPalette=frame.globalPalette;this.log(\"global palette analyzed\");if(this.frames.length>2){for(i=j=1,ref=this.freeWorkers.length;1<=ref?j<ref:j>ref;i=1<=ref?++j:--j){this.renderNextFrame()}}}if(indexOf.call(this.imageParts,null)>=0){return this.renderNextFrame()}else{return this.finishRendering()}};GIF.prototype.finishRendering=function(){var data,frame,i,image,j,k,l,len,len1,len2,len3,offset,page,ref,ref1,ref2;len=0;ref=this.imageParts;for(j=0,len1=ref.length;j<len1;j++){frame=ref[j];len+=(frame.data.length-1)*frame.pageSize+frame.cursor}len+=frame.pageSize-frame.cursor;this.log(\"rendering finished - filesize \"+Math.round(len/1e3)+\"kb\");data=new Uint8Array(len);offset=0;ref1=this.imageParts;for(k=0,len2=ref1.length;k<len2;k++){frame=ref1[k];ref2=frame.data;for(i=l=0,len3=ref2.length;l<len3;i=++l){page=ref2[i];data.set(page,offset);if(i===frame.data.length-1){offset+=frame.cursor}else{offset+=frame.pageSize}}}image=new Blob([data],{type:\"image/gif\"});return this.emit(\"finished\",image,data)};GIF.prototype.renderNextFrame=function(){var frame,task,worker;if(this.freeWorkers.length===0){throw new Error(\"No free workers\")}if(this.nextFrame>=this.frames.length){return}frame=this.frames[this.nextFrame++];worker=this.freeWorkers.shift();task=this.getTask(frame);this.log(\"starting frame \"+(task.index+1)+\" of \"+this.frames.length);this.activeWorkers.push(worker);return worker.postMessage(task)};GIF.prototype.getContextData=function(ctx){return ctx.getImageData(0,0,this.options.width,this.options.height).data};GIF.prototype.getImageData=function(image){var ctx;if(this._canvas==null){this._canvas=document.createElement(\"canvas\");this._canvas.width=this.options.width;this._canvas.height=this.options.height}ctx=this._canvas.getContext(\"2d\");ctx.setFill=this.options.background;ctx.fillRect(0,0,this.options.width,this.options.height);ctx.drawImage(image,0,0);return this.getContextData(ctx)};GIF.prototype.getTask=function(frame){var index,task;index=this.frames.indexOf(frame);task={index:index,last:index===this.frames.length-1,delay:frame.delay,transparent:frame.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:browser.name===\"chrome\"};if(frame.data!=null){task.data=frame.data}else if(frame.context!=null){task.data=this.getContextData(frame.context)}else if(frame.image!=null){task.data=this.getImageData(frame.image)}else{throw new Error(\"Invalid frame\")}return task};GIF.prototype.log=function(){var args;args=1<=arguments.length?slice.call(arguments,0):[];if(!this.options.debug){return}return console.log.apply(console,args)};return GIF}(EventEmitter);module.exports=GIF},{\"./browser.coffee\":2,events:1}]},{},[3])(3)});\n//# sourceMappingURL=gif.js.map\n\n\n//# sourceURL=webpack:///./node_modules/gif.js/dist/gif.js?");
    /***/ }),

  /***/ './screens/canvas/index.js':
  /*! *********************************!*\
  !*** ./screens/canvas/index.js ***!
  \******************************** */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasApp; });\n/* harmony import */ var bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bootstrap/dist/css/bootstrap.min.css */ \"./node_modules/bootstrap/dist/css/bootstrap.min.css\");\n/* harmony import */ var bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style.css */ \"./screens/canvas/style.css\");\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _src_components_canvas_Canvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/components/canvas/Canvas */ \"./src/components/canvas/Canvas.js\");\n/* harmony import */ var _src_components_canvas_animation_CanvasAnimation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/components/canvas-animation/CanvasAnimation */ \"./src/components/canvas-animation/CanvasAnimation.js\");\n/* harmony import */ var _src_components_canvas_animation_SaveAnimationGif__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../src/components/canvas-animation/SaveAnimationGif */ \"./src/components/canvas-animation/SaveAnimationGif.js\");\n/* harmony import */ var _src_components_canvas_animation_SaveAnimationWebm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../src/components/canvas-animation/SaveAnimationWebm */ \"./src/components/canvas-animation/SaveAnimationWebm.js\");\n/* harmony import */ var _src_components_canvas_animation_FullScreen__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../src/components/canvas-animation/FullScreen */ \"./src/components/canvas-animation/FullScreen.js\");\n/* harmony import */ var _src_components_palette_Palette__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../src/components/palette/Palette */ \"./src/components/palette/Palette.js\");\n/* harmony import */ var _src_components_palette_PaletteSwitcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../src/components/palette/PaletteSwitcher */ \"./src/components/palette/PaletteSwitcher.js\");\n/* harmony import */ var _src_components_palette_PaletteSwitcherController__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../src/components/palette/PaletteSwitcherController */ \"./src/components/palette/PaletteSwitcherController.js\");\n/* harmony import */ var _src_components_shortcut_Shortcut__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../src/components/shortcut/Shortcut */ \"./src/components/shortcut/Shortcut.js\");\n/* harmony import */ var _src_components_frames_list_FramesConstructor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../src/components/frames-list/FramesConstructor */ \"./src/components/frames-list/FramesConstructor.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CanvasApp() {\n  var canvas = document.getElementById('canvas');\n  if (!canvas) return;\n  var canv = new _src_components_canvas_Canvas__WEBPACK_IMPORTED_MODULE_2__[\"default\"](canvas, {});\n  var palette = new _src_components_palette_Palette__WEBPACK_IMPORTED_MODULE_7__[\"default\"](canv);\n  var paletteSwitcher = new _src_components_palette_PaletteSwitcher__WEBPACK_IMPORTED_MODULE_8__[\"default\"](palette);\n  var paletteSwitcherController = new _src_components_palette_PaletteSwitcherController__WEBPACK_IMPORTED_MODULE_9__[\"default\"](paletteSwitcher);\n  paletteSwitcherController.start();\n  var frames = new _src_components_frames_list_FramesConstructor__WEBPACK_IMPORTED_MODULE_11__[\"default\"](canv);\n  frames.render();\n  var shortcut = new _src_components_shortcut_Shortcut__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\n    pen: {\n      key: 'p',\n      f: paletteSwitcherController.toogle,\n      arg: 'pen'\n    },\n    bucket: {\n      key: 'b',\n      f: paletteSwitcherController.toogle,\n      arg: 'bucket'\n    },\n    eraser: {\n      key: 'e',\n      f: paletteSwitcherController.toogle,\n      arg: 'eraser'\n    },\n    fillSame: {\n      key: 'f',\n      f: paletteSwitcherController.toogle,\n      arg: 'fillSame'\n    },\n    stroke: {\n      key: 's',\n      f: paletteSwitcherController.toogle,\n      arg: 'stroke'\n    },\n    picker: {\n      key: 'o',\n      f: paletteSwitcherController.toogle,\n      arg: 'picker'\n    },\n    color: {\n      key: 'c',\n      f: function f() {\n        return document.querySelector('[data-palette-input]').click();\n      },\n      arg: 'color'\n    },\n    deleteFrame: {\n      key: 'd',\n      f: frames[\"delete\"],\n      arg: null\n    },\n    addFrame: {\n      key: 'a',\n      f: frames.setNewFrame,\n      arg: ''\n    }\n  });\n  shortcut.start();\n  var canvElAnim = document.getElementById('canvasAnimation');\n  var canvasAnimation = new _src_components_canvas_animation_CanvasAnimation__WEBPACK_IMPORTED_MODULE_3__[\"default\"](canvElAnim, document.getElementById('inpAnimationSpeed'));\n  canvasAnimation.start();\n  var strHtml = '<div id=\"cont\"><button id=\"back\">Back</button><canvas id=\"canvasFullScreen\"></canvas></div>';\n\n  function onWriteCallBack() {\n    var c = document.getElementById('canvasFullScreen');\n    var b = document.getElementById('back');\n    var cont = document.getElementById('cont');\n    c.width = 768;\n    c.height = 768;\n    c.style = 'display:block; margin: 0 auto';\n    b.style = 'padding: 7px; margin: 5px; width: 110px; cursor: pointer; font-size: 12px; font-weight: bold;';\n    cont.style = 'text-align: right';\n    var canvasAnimation2 = new _src_components_canvas_animation_CanvasAnimation__WEBPACK_IMPORTED_MODULE_3__[\"default\"](c);\n    canvasAnimation2.start();\n    b.addEventListener('click', function () {\n      window.location.reload(true);\n    });\n  }\n\n  var canvasAnimationFullScreen = new _src_components_canvas_animation_FullScreen__WEBPACK_IMPORTED_MODULE_6__[\"default\"](strHtml, onWriteCallBack);\n  document.getElementById('fullScreen').addEventListener('click', function () {\n    canvasAnimationFullScreen.render();\n  });\n  document.getElementById('btnSaveAnimationGif').addEventListener('click', function () {\n    Object(_src_components_canvas_animation_SaveAnimationGif__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n  });\n  document.getElementById('btnSaveAnimationWebm').addEventListener('click', function () {\n    Object(_src_components_canvas_animation_SaveAnimationWebm__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n  });\n}\n\n//# sourceURL=webpack:///./screens/canvas/index.js?");
    /***/ }),

  /***/ './screens/canvas/style.css':
  /*! **********************************!*\
  !*** ./screens/canvas/style.css ***!
  \********************************* */
  /*! no static exports found */
  /***/ (function (module, exports, __webpack_require__) {
    eval('// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./screens/canvas/style.css?');
    /***/ }),

  /***/ './src/components/canvas-animation/CanvasAnimation.js':
  /*! ************************************************************!*\
  !*** ./src/components/canvas-animation/CanvasAnimation.js ***!
  \*********************************************************** */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasAnimation; });\n/* harmony import */ var _canvas_Canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../canvas/Canvas */ \"./src/components/canvas/Canvas.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar CanvasAnimation =\n/*#__PURE__*/\nfunction () {\n  function CanvasAnimation(canvEl, inp) {\n    _classCallCheck(this, CanvasAnimation);\n\n    this.canvasConstructor = new _canvas_Canvas__WEBPACK_IMPORTED_MODULE_0__[\"default\"](canvEl, {}, null);\n    this.framesId = [];\n    this.counter = 0;\n    this.timerId = null;\n    this.speed = JSON.parse(localStorage.getItem('amimationSpeed')) || 1;\n    this.inpSpeed = inp || null;\n  }\n\n  _createClass(CanvasAnimation, [{\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n\n      this.setInputValue(this.speed);\n      this.setFramesFromStorage();\n      this.changeFrame();\n      this.setIntervalAnimation(this.speed);\n      this.timerId2 = setInterval(function () {\n        Promise.resolve().then(function () {\n          return _this.setFramesFromStorage();\n        });\n      }, 1000);\n      if (this.inpSpeed) this.inpSpeed.addEventListener('change', function (e) {\n        return _this.resetSpeed(e);\n      });\n    }\n  }, {\n    key: \"finish\",\n    value: function finish() {\n      clearInterval(this.timerId);\n      clearInterval(this.timerId2);\n    }\n  }, {\n    key: \"setInputValue\",\n    value: function setInputValue(val) {\n      if (this.inpSpeed) this.inpSpeed.value = val;\n    }\n  }, {\n    key: \"checkInpValue\",\n    value: function checkInpValue(v) {\n      return v > 0 && v < 25 && typeof v === 'number';\n    }\n  }, {\n    key: \"resetSpeed\",\n    value: function resetSpeed(e) {\n      var newSpeed = +e.target.value;\n\n      if (this.checkInpValue(newSpeed)) {\n        this.setIntervalAnimation(newSpeed);\n        this.speed = newSpeed;\n        localStorage.setItem('amimationSpeed', newSpeed);\n      }\n    }\n  }, {\n    key: \"setIntervalAnimation\",\n    value: function setIntervalAnimation(shots) {\n      var _this2 = this;\n\n      clearInterval(this.timerId);\n      this.timerId = setInterval(function () {\n        Promise.resolve().then(function () {\n          return _this2.changeFrame();\n        });\n      }, 1000 / shots);\n    }\n  }, {\n    key: \"setFramesFromStorage\",\n    value: function setFramesFromStorage() {\n      var _this3 = this;\n\n      this.framesId = JSON.parse(localStorage.getItem('framesId')) || [];\n      this.framesId.forEach(function (id) {\n        var matrix = null;\n\n        _this3.canvasConstructor.addMatrix({\n          matrix: matrix,\n          id: id\n        });\n      });\n      this.canvasConstructor.setMatrixesByStorage();\n    }\n  }, {\n    key: \"changeFrame\",\n    value: function changeFrame() {\n      this.counter = this.counter >= this.framesId.length ? 0 : this.counter;\n      var id = this.framesId[this.counter];\n      if (!id) return;\n      this.canvasConstructor.activeMatrixId = id;\n      this.canvasConstructor.showMatrix();\n      this.counter += 1;\n    }\n  }]);\n\n  return CanvasAnimation;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/canvas-animation/CanvasAnimation.js?");
    /***/ }),

  /***/ './src/components/canvas-animation/FullScreen.js':
  /*! *******************************************************!*\
  !*** ./src/components/canvas-animation/FullScreen.js ***!
  \****************************************************** */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FullScreen; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar FullScreen =\n/*#__PURE__*/\nfunction () {\n  function FullScreen(strHtml, callBack) {\n    _classCallCheck(this, FullScreen);\n\n    this.strHtml = strHtml;\n    this.callBack = callBack;\n  }\n\n  _createClass(FullScreen, [{\n    key: "render",\n    value: function render() {\n      var fullScreenErrors = [];\n      var tryScreen;\n\n      if (document.fullscreenEnabled) {\n        tryScreen = Promise.resolve().then(function () {\n          return document.documentElement.requestFullscreen();\n        });\n        tryScreen["catch"](function (err) {\n          return fullScreenErrors.push(err);\n        });\n      }\n\n      this.docWrite(this.strHtml);\n      this.callBack();\n    }\n  }, {\n    key: "docWrite",\n    value: function docWrite(str) {\n      document.write(str);\n    }\n  }]);\n\n  return FullScreen;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/canvas-animation/FullScreen.js?');
    /***/ }),

  /***/ './src/components/canvas-animation/SaveAnimationGif.js':
  /*! *************************************************************!*\
  !*** ./src/components/canvas-animation/SaveAnimationGif.js ***!
  \************************************************************ */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return saveAnimationGif; });\n/* harmony import */ var _node_modules_gif_js_dist_gif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/gif.js/dist/gif */ \"./node_modules/gif.js/dist/gif.js\");\n/* harmony import */ var _node_modules_gif_js_dist_gif__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_gif_js_dist_gif__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CanvasAnimation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CanvasAnimation */ \"./src/components/canvas-animation/CanvasAnimation.js\");\n\n\nfunction saveAnimationGif() {\n  var gif = new _node_modules_gif_js_dist_gif__WEBPACK_IMPORTED_MODULE_0__({\n    workers: 2,\n    quality: 10,\n    workerScript: './modules/gif.worker.js',\n    width: 128,\n    height: 128\n  });\n  var canvas = document.createElement('canvas');\n  canvas.width = 128;\n  canvas.height = 128;\n  var animation = new _CanvasAnimation__WEBPACK_IMPORTED_MODULE_1__[\"default\"](canvas);\n  animation.setFramesFromStorage();\n  var delay = 1000 / animation.speed;\n  animation.framesId.forEach(function () {\n    animation.changeFrame();\n    gif.addFrame(animation.canvasConstructor.canvas, {\n      delay: delay\n    });\n    var newCanvEl = document.createElement('canvas');\n    newCanvEl.width = 128;\n    newCanvEl.height = 128;\n    animation.canvasConstructor.canvas = newCanvEl;\n  });\n  gif.on('finished', function (blob) {\n    animation.finish();\n    var vid = document.createElement('video');\n    vid.src = URL.createObjectURL(blob);\n    vid.controls = true;\n    var a = document.createElement('a');\n    a.download = 'piskel-clone.gif';\n    a.href = vid.src;\n    a.click();\n  });\n  gif.render();\n}\n\n//# sourceURL=webpack:///./src/components/canvas-animation/SaveAnimationGif.js?");
    /***/ }),

  /***/ './src/components/canvas-animation/SaveAnimationWebm.js':
  /*! **************************************************************!*\
  !*** ./src/components/canvas-animation/SaveAnimationWebm.js ***!
  \************************************************************* */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return saveAnimationWebm; });\n/* harmony import */ var _CanvasAnimation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CanvasAnimation */ \"./src/components/canvas-animation/CanvasAnimation.js\");\n\nfunction saveAnimationWebm() {\n  var canvas = document.createElement('canvas');\n  canvas.width = 128;\n  canvas.height = 128;\n  var animation = new _CanvasAnimation__WEBPACK_IMPORTED_MODULE_0__[\"default\"](canvas);\n  animation.start();\n\n  function startRecording() {\n    var chunks = [];\n    var stream = canvas.captureStream();\n    var _window = window,\n        MediaRecorder = _window.MediaRecorder;\n    var rec = new MediaRecorder(stream, {\n      mimeType: 'video/webm'\n    });\n\n    rec.ondataavailable = function (e) {\n      chunks.push(e.data);\n    };\n\n    rec.onstop = function () {\n      exportVid(new Blob(chunks, {\n        type: 'video/webm'\n      }));\n    };\n\n    rec.start();\n    setTimeout(function () {\n      return rec.stop();\n    }, animation.framesId.length * (1000 / animation.speed));\n  }\n\n  function exportVid(blob) {\n    animation.finish();\n    var vid = document.createElement('video');\n    vid.src = URL.createObjectURL(blob);\n    vid.controls = true;\n    var a = document.createElement('a');\n    a.download = 'piskel-clone.webm';\n    a.href = vid.src;\n    a.click();\n  }\n\n  startRecording();\n}\n\n//# sourceURL=webpack:///./src/components/canvas-animation/SaveAnimationWebm.js?");
    /***/ }),

  /***/ './src/components/canvas/Canvas.js':
  /*! *****************************************!*\
  !*** ./src/components/canvas/Canvas.js ***!
  \**************************************** */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Canvas; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Canvas =\n/*#__PURE__*/\nfunction () {\n  function Canvas(canvas, matrixes, matrixId) {\n    _classCallCheck(this, Canvas);\n\n    this.canvas = canvas;\n    this.matrixes = matrixes || {};\n    this.activeMatrixId = +localStorage.getItem('matrixId') || matrixId;\n    this.activeMatrixItem = {\n      type: null,\n      data: null\n    };\n    this.setMatrixesByStorage();\n  }\n\n  _createClass(Canvas, [{\n    key: \"setMatrixesByStorage\",\n    value: function setMatrixesByStorage() {\n      var _this = this;\n\n      Object.keys(this.matrixes).forEach(function (id) {\n        var saved = localStorage.getItem(id);\n        if (saved) _this.matrixes[id] = JSON.parse(saved);\n      });\n    }\n  }, {\n    key: \"setActiveMatrix\",\n    value: function setActiveMatrix(id) {\n      if (this.matrixes[id]) {\n        this.activeMatrixId = id;\n        localStorage.setItem('matrixId', id);\n      }\n    }\n  }, {\n    key: \"saveChanges\",\n    value: function saveChanges() {\n      var id = this.getActiveMatrixId();\n      localStorage.setItem(id, JSON.stringify(this.getActiveMatrix()));\n    }\n  }, {\n    key: \"getActiveMatrixId\",\n    value: function getActiveMatrixId() {\n      return this.activeMatrixId;\n    }\n  }, {\n    key: \"getActiveMatrix\",\n    value: function getActiveMatrix() {\n      return this.matrixes[this.getActiveMatrixId()];\n    }\n  }, {\n    key: \"addMatrix\",\n    value: function addMatrix(props) {\n      this.matrixes[props.id] = props.matrix;\n    }\n  }, {\n    key: \"setActiveMatrixItem\",\n    value: function setActiveMatrixItem(content) {\n      var color;\n\n      if (typeof content === 'string') {\n        var s = new Option().style;\n        s.color = content;\n        var isString = s.color === content.toLowerCase();\n        var isHexText = /^#[0-9A-F]{6}$/i.test(\"#\".concat(content));\n        var isHex = /^#[0-9A-F]{6}$/i.test(content);\n        if (isHexText) color = \"#\".concat(content);\n        if (isString || isHex) color = content;\n      } else if (Array.isArray(content) && content.length === 4) {\n        var rgba = \"rgba(\".concat(content[0], \",\").concat(content[1], \",\").concat(content[2], \",\").concat((Math.round(content[3] / 255), 1), \")\");\n        var isRgba = /rgba?\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*\\d+[\\d+]*)*\\)/g.exec(rgba);\n        if (isRgba) color = rgba;\n      }\n\n      if (color) {\n        this.activeMatrixItem.type = 'color';\n        this.activeMatrixItem.data = color;\n      }\n    }\n  }, {\n    key: \"showMatrix\",\n    value: function showMatrix() {\n      var _this2 = this;\n\n      var matrix = this.getActiveMatrix();\n      var canvas = this.canvas;\n      var ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      var cellWight = Math.floor(canvas.width / matrix[0].length);\n      var rowHeight = Math.floor(canvas.height / matrix.length);\n      var x = 0;\n      var y = 0;\n      matrix.forEach(function (row) {\n        row.forEach(function (content) {\n          _this2.setActiveMatrixItem(content);\n\n          _this2.drawActiveMatrixItem(x, y, cellWight, rowHeight);\n\n          x += cellWight;\n        });\n        x = 0;\n        y += rowHeight;\n      });\n    }\n  }, {\n    key: \"drawActiveMatrixItem\",\n    value: function drawActiveMatrixItem(x, y, cellWight, rowHeight) {\n      if (this.canvas.getContext) {\n        var ctx = this.canvas.getContext('2d');\n        var item = this.activeMatrixItem;\n\n        switch (item.type) {\n          case 'color':\n            ctx.fillStyle = item.data;\n            ctx.fillRect(x, y, cellWight, rowHeight);\n            break;\n\n          default:\n            alert('Something goes wrong 0_0');\n        }\n      }\n    }\n  }]);\n\n  return Canvas;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/canvas/Canvas.js?");
    /***/ }),

  /***/ './src/components/frames-list/DragnDrop.js':
  /*! *************************************************!*\
  !*** ./src/components/frames-list/DragnDrop.js ***!
  \************************************************ */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DragnDrop; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DragnDrop =\n/*#__PURE__*/\nfunction () {\n  function DragnDrop(list, callback) {\n    _classCallCheck(this, DragnDrop);\n\n    this.onUpdate = callback;\n    this.rootEl = list;\n    this.dragEl = null;\n    this.nextEl = null;\n    this.sortable(list);\n  }\n\n  _createClass(DragnDrop, [{\n    key: \"onDragOver\",\n    value: function onDragOver(e) {\n      e.preventDefault();\n      e.dataTransfer.dropEffect = 'move';\n      var target = e.target;\n      var el = this.rootEl.children[0] !== target ? target.nextSibling : target;\n\n      if (target && target !== this.dragEl && target.classList.contains('draggable')) {\n        this.rootEl.insertBefore(this.dragEl, el);\n      }\n    }\n  }, {\n    key: \"onDragEnd\",\n    value: function onDragEnd(e) {\n      e.preventDefault();\n      this.dragEl.classList.remove('ghost');\n      this.rootEl.removeEventListener('dragover', this.onDragOver, false);\n      this.rootEl.removeEventListener('dragend', this.onDragEnd, false);\n\n      if (this.nextEl !== this.dragEl.nextSibling) {\n        this.onUpdate(this.dragEl);\n      }\n    }\n  }, {\n    key: \"onDragStart\",\n    value: function onDragStart(e) {\n      var _this = this;\n\n      if (e.target.parentNode !== this.rootEl) {\n        e.preventDefault();\n        return;\n      }\n\n      var dragEl = e.target;\n      this.dragEl = dragEl;\n      this.nextEl = dragEl.nextSibling;\n      e.dataTransfer.effectAllowed = 'move';\n      e.dataTransfer.setData('Text', dragEl.textContent);\n      this.rootEl.addEventListener('dragover', function (event) {\n        return _this.onDragOver(event);\n      }, false);\n      this.rootEl.addEventListener('dragend', function (event) {\n        return _this.onDragEnd(event);\n      }, false);\n      dragEl.classList.add('ghost');\n    }\n  }, {\n    key: \"sortable\",\n    value: function sortable(rootEl) {\n      var _this2 = this;\n\n      var elems = [].slice.call(rootEl.children);\n      elems.forEach(function (el, i) {\n        elems[i].draggable = true;\n      });\n      rootEl.addEventListener('dragstart', function (e) {\n        return _this2.onDragStart(e);\n      });\n    }\n  }]);\n\n  return DragnDrop;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/frames-list/DragnDrop.js?");
    /***/ }),

  /***/ './src/components/frames-list/Frame.js':
  /*! *********************************************!*\
  !*** ./src/components/frames-list/Frame.js ***!
  \******************************************** */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Frame; });\n/* harmony import */ var _canvas_Canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../canvas/Canvas */ \"./src/components/canvas/Canvas.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar Frame =\n/*#__PURE__*/\nfunction () {\n  function Frame(framesConstructor, id) {\n    _classCallCheck(this, Frame);\n\n    this.framesConstructor = framesConstructor;\n    this.container = document.getElementById('framesContainer');\n    this.id = id;\n    this.img = null;\n    this.renderPic = this.renderPic.bind(this);\n    this.canvEl = document.createElement('canvas');\n    this.canvConstr = new _canvas_Canvas__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.canvEl, {});\n    this.canvEl.width = 512;\n    this.canvEl.height = 512;\n    this.render();\n  }\n\n  _createClass(Frame, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var container = document.createElement('div');\n      var btnDelete = document.createElement('button');\n      var btnDuplicate = document.createElement('button');\n      var name = document.createElement('span');\n      var num = document.createElement('span');\n      var split = document.createElement('br');\n      this.img = new Image();\n      this.img.style.width = '80px';\n      this.img.style.height = '80px';\n      this.renderPic();\n      this.img.classList.add('m-2');\n      btnDuplicate.textContent = 'Duplicate';\n      btnDelete.textContent = 'Delete';\n      name.textContent = ' Layer ';\n      num.textContent = this.id;\n      container.classList.add('m-2', 'bg-dark', 'rounded', 'draggable', 'text-light');\n      btnDuplicate.classList.add('btn', 'btn-sm', 'btn-outline-secondary', 'm-1');\n      btnDelete.classList.add('btn', 'btn-sm', 'btn-outline-danger', 'm-1');\n      container.dataset.frameId = this.id;\n      btnDelete.dataset.tip = 'deleteFrame';\n      container.draggable = true;\n      btnDuplicate.addEventListener('click', function () {\n        return _this.framesConstructor.duplicate(_this.id);\n      });\n      btnDelete.addEventListener('click', function () {\n        return _this.framesConstructor[\"delete\"](_this.id);\n      });\n      container.addEventListener('click', function (e) {\n        if (e.target.tagName !== 'BUTTON') _this.framesConstructor.changeActiveOnCanvas(_this.id);\n      });\n      container.appendChild(this.img);\n      container.appendChild(name);\n      container.appendChild(num);\n      container.appendChild(split);\n      container.appendChild(btnDuplicate);\n      container.appendChild(btnDelete);\n      if (this.container) this.container.appendChild(container);\n    }\n  }, {\n    key: \"renderPic\",\n    value: function renderPic() {\n      var img = this.img;\n      var data = JSON.parse(localStorage.getItem(this.id));\n\n      if (data) {\n        var canvEl = this.canvEl;\n        var canvConstr = this.canvConstr;\n        var myObj = {\n          id: 'myCanv',\n          matrix: data\n        };\n        canvConstr.addMatrix(myObj);\n        canvConstr.activeMatrixId = 'myCanv';\n        canvConstr.showMatrix();\n        var url = canvEl.toDataURL();\n        img.src = url;\n      }\n    }\n  }]);\n\n  return Frame;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/frames-list/Frame.js?");
    /***/ }),

  /***/ './src/components/frames-list/FramesConstructor.js':
  /*! *********************************************************!*\
  !*** ./src/components/frames-list/FramesConstructor.js ***!
  \******************************************************** */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FramesConstructor; });\n/* harmony import */ var _Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Frame */ \"./src/components/frames-list/Frame.js\");\n/* harmony import */ var _DragnDrop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DragnDrop */ \"./src/components/frames-list/DragnDrop.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar FramesConstructor =\n/*#__PURE__*/\nfunction () {\n  function FramesConstructor(canvas) {\n    _classCallCheck(this, FramesConstructor);\n\n    this.canvas = canvas;\n    this.framesObj = {};\n    this.container = document.getElementById('framesContainer');\n    this.framesId = JSON.parse(localStorage.getItem('framesId')) || [];\n    this.counter = JSON.parse(localStorage.getItem('framesCounter')) || 0;\n    this.size = JSON.parse(localStorage.getItem('framesSize')) || 32;\n    this.btnAddFrame = document.getElementById('btnAddFrame');\n    this.addFrame = this.addFrame.bind(this);\n    this[\"delete\"] = this[\"delete\"].bind(this);\n    this.setNewFrame = this.setNewFrame.bind(this);\n    this.timerId = null;\n    this.activeLayer = null;\n    this.sizeSwitcher = document.getElementById('framesSizeSwitcher');\n  }\n\n  _createClass(FramesConstructor, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      this.setSavedFrames();\n      this.changeActiveOnCanvas(JSON.parse(localStorage.getItem('activeLayer')));\n      document.getElementById('btnAddFrame').addEventListener('click', this.setNewFrame);\n      this.sizeSwitcher.addEventListener('click', function (e) {\n        return _this.switchSize(e);\n      });\n      this.sizeSwitcher.querySelector(\"[data-frames-size='\".concat(this.size, \"']\")).classList.add('active');\n      this.dragnDrop = new _DragnDrop__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.container, function () {\n        var framesIdSorted = [];\n\n        _this.container.querySelectorAll('[data-frame-id]').forEach(function (el) {\n          return framesIdSorted.push(\"\".concat(el.dataset.frameId));\n        });\n\n        localStorage.setItem('framesId', JSON.stringify(framesIdSorted));\n      });\n    }\n  }, {\n    key: \"getEmptyFrameData\",\n    value: function getEmptyFrameData(size) {\n      var data = [];\n      data.length = size;\n      data.fill(1);\n      data = data.map(function () {\n        var n = [];\n        n.length = size;\n        n.fill('#ffffff');\n        return n;\n      });\n      return data;\n    }\n  }, {\n    key: \"switchSize\",\n    value: function switchSize(e) {\n      var size = e.target.dataset.framesSize;\n      this.size = +size;\n      var active = this.sizeSwitcher.querySelector('.active');\n      if (active) active.classList.remove('active');\n      e.target.classList.add('active');\n      localStorage.setItem('framesSize', size);\n    }\n  }, {\n    key: \"setSavedFrames\",\n    value: function setSavedFrames() {\n      var _this2 = this;\n\n      if (!this.framesId.length) {\n        this.setNewFrame();\n      }\n\n      this.framesId.forEach(function (id) {\n        _this2.addFrame(id);\n      });\n      this.canvas.setMatrixesByStorage();\n    }\n  }, {\n    key: \"getNewId\",\n    value: function getNewId() {\n      this.counter += 1;\n      localStorage.setItem('framesCounter', this.counter);\n      return this.counter - 1;\n    }\n  }, {\n    key: \"saveToLocal\",\n    value: function saveToLocal(id, data) {\n      var framesId = JSON.parse(localStorage.getItem('framesId')) || [];\n      framesId.push(\"\".concat(id));\n      localStorage.setItem('framesId', JSON.stringify(framesId));\n      localStorage.setItem(id, JSON.stringify(data));\n    }\n  }, {\n    key: \"setNewFrame\",\n    value: function setNewFrame() {\n      var id = this.getNewId();\n      var data = this.getEmptyFrameData(this.size);\n      this.addFrame(id, data);\n      this.saveToLocal(id, data);\n      this.changeActiveOnCanvas(id);\n    }\n  }, {\n    key: \"changeActiveOnCanvas\",\n    value: function changeActiveOnCanvas(id) {\n      this.updatePic(id);\n      localStorage.setItem('activeLayer', id);\n      this.canvas.setActiveMatrix(id);\n      this.canvas.showMatrix();\n    }\n  }, {\n    key: \"duplicate\",\n    value: function duplicate(idDuplicateFrom) {\n      var data = _toConsumableArray(this.canvas.matrixes[idDuplicateFrom]);\n\n      var id = this.getNewId();\n      this.addFrame(id, data);\n      this.saveToLocal(id, data);\n      this.changeActiveOnCanvas(id);\n    }\n  }, {\n    key: \"updatePic\",\n    value: function updatePic(id) {\n      var _this3 = this;\n\n      clearInterval(this.timerId);\n      this.timerId = setInterval(function () {\n        if (_this3.framesObj[id]) Promise.resolve().then(_this3.framesObj[id].renderPic);\n      }, 1000);\n    }\n  }, {\n    key: \"addFrame\",\n    value: function addFrame(id, data) {\n      var newFrame = new _Frame__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this, id);\n      this.framesObj[id] = newFrame;\n      var matrix = data;\n      this.canvas.addMatrix({\n        matrix: matrix,\n        id: id\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(id) {\n      var strId = id || id === 0 ? \"\".concat(id) : localStorage.getItem('activeLayer');\n      var frameElement = document.querySelector(\"[data-frame-id=\\\"\".concat(strId, \"\\\"\"));\n      if (frameElement) frameElement.parentNode.removeChild(frameElement);\n      var framesId = JSON.parse(localStorage.getItem('framesId')) || [];\n      var indexOfId = framesId.indexOf(strId);\n      framesId.splice(indexOfId, 1);\n      localStorage.setItem('framesId', JSON.stringify(framesId));\n\n      if (\"\".concat(localStorage.getItem('activeLayer')) === strId) {\n        this.changeActiveOnCanvas(framesId[indexOfId - 1 >= 0 ? indexOfId - 1 : 0]);\n      }\n    }\n  }]);\n\n  return FramesConstructor;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/frames-list/FramesConstructor.js?");
    /***/ }),

  /***/ './src/components/palette/Palette.js':
  /*! *******************************************!*\
  !*** ./src/components/palette/Palette.js ***!
  \****************************************** */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Palette; });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Palette =\n/*#__PURE__*/\nfunction () {\n  function Palette(canvas) {\n    _classCallCheck(this, Palette);\n\n    this.canvas = canvas;\n    this.isMouseDown = false;\n    this.activeColor = localStorage.getItem('color') || '#ccccff';\n    this.isColorUsed = false;\n    this.underMouseColor = null;\n    this.previousCellPosition = null;\n    this.penSize = 1;\n  }\n\n  _createClass(Palette, [{\n    key: \"setPreviousCellPosition\",\n    value: function setPreviousCellPosition(e) {\n      if (e.target !== this.canvas.canvas) this.previousCellPosition = null;\n    }\n  }, {\n    key: \"getCursorPosition\",\n    value: function getCursorPosition(e) {\n      var x;\n      var y;\n\n      if (e.pageX || e.pageY) {\n        x = e.pageX;\n        y = e.pageY;\n      } else {\n        x = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n        y = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n      }\n\n      x -= this.canvas.canvas.offsetLeft;\n      y -= this.canvas.canvas.offsetTop;\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"getClickedMatrixParam\",\n    value: function getClickedMatrixParam(e) {\n      var cursor = this.getCursorPosition(e);\n      var canvas = this.canvas;\n      var x = cursor.x;\n      var y = cursor.y;\n      var size = canvas.getActiveMatrix().length;\n      var height = canvas.canvas.height / size;\n      var width = canvas.canvas.width / size;\n      var row = Math.floor(y / height);\n      var cell = Math.floor(x / width);\n      return {\n        height: height,\n        width: width,\n        row: row,\n        cell: cell\n      };\n    }\n  }, {\n    key: \"fillSame\",\n    value: function fillSame(e) {\n      var _this = this;\n\n      var canvas = this.canvas;\n\n      if (canvas.activeMatrixItem.color !== this.activeColor) {\n        canvas.setActiveMatrixItem(this.activeColor);\n      }\n\n      var mtrxPrm = this.getClickedMatrixParam(e);\n      var matrix = canvas.getActiveMatrix();\n      if (!matrix[mtrxPrm.row]) return;\n      var underMouseColor = matrix[mtrxPrm.row][mtrxPrm.cell];\n      if (underMouseColor === this.activeColor || underMouseColor.img) return;\n      var width = mtrxPrm.width;\n      var height = mtrxPrm.height;\n      matrix.forEach(function (row, i) {\n        row.forEach(function (cell, j) {\n          if (cell === underMouseColor) {\n            _this.drawCell({\n              row: i,\n              cell: j,\n              width: width,\n              height: height\n            });\n          }\n        });\n      });\n      this.canvas.saveChanges();\n      this.isColorUsed = true;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(size) {\n      var canvas = this.canvas;\n      var matrix = canvas.getActiveMatrix();\n      var result = [];\n      var step = matrix.length / size;\n\n      for (var i = 0; i < matrix.length; i += step) {\n        var newRow = [];\n\n        for (var j = 0; j < matrix.length; j += step) {\n          newRow.push(matrix[Math.floor(i)][Math.floor(j)]);\n        }\n\n        result.push(newRow);\n      }\n\n      canvas.matrixes[canvas.getActiveMatrixId()] = result;\n      canvas.saveChanges();\n      canvas.showMatrix();\n    }\n  }, {\n    key: \"bucketFill\",\n    value: function bucketFill(e) {\n      var canvas = this.canvas;\n\n      if (canvas.activeMatrixItem.color !== this.activeColor) {\n        canvas.setActiveMatrixItem(this.activeColor);\n      }\n\n      var mtrxPrm = this.getClickedMatrixParam(e);\n      var matrix = canvas.getActiveMatrix();\n      if (!matrix[mtrxPrm.row]) return;\n      this.underMouseColor = matrix[mtrxPrm.row][mtrxPrm.cell];\n      if (this.underMouseColor === this.activeColor || this.underMouseColor.img) return;\n      this.fillAll(mtrxPrm.row, mtrxPrm.cell, mtrxPrm.width, mtrxPrm.height).then(function () {\n        return canvas.saveChanges();\n      });\n      this.isColorUsed = true;\n    }\n  }, {\n    key: \"fillAll\",\n    value: function fillAll(rowIndx, cellIndx, width, height) {\n      var _this2 = this;\n\n      var matrix = this.canvas.getActiveMatrix();\n      var relativeInexes = [[rowIndx, cellIndx], [rowIndx - 1, cellIndx], [rowIndx + 1, cellIndx], [rowIndx, cellIndx - 1], [rowIndx, cellIndx + 1]];\n      var promises = [];\n      relativeInexes.forEach(function (indx) {\n        var row = indx[0];\n        var cell = indx[1];\n        if (row < 0 || cell < 0 || row > matrix.length - 1 || cell > matrix[0].length - 1) return;\n        var elColor = matrix[row][cell];\n\n        if (elColor === _this2.underMouseColor && elColor !== _this2.activeColor) {\n          _this2.drawCell({\n            row: row,\n            cell: cell,\n            width: width,\n            height: height\n          });\n\n          var promise = Promise.resolve().then(function () {\n            return _this2.fillAll(row, cell, width, height);\n          });\n          promises.push(promise);\n        }\n      });\n      return Promise.all(promises);\n    }\n  }, {\n    key: \"drawCell\",\n    value: function drawCell(mtrxPrm) {\n      var canvas = this.canvas;\n      var matrix = canvas.getActiveMatrix();\n      if (matrix[mtrxPrm.row]) matrix[mtrxPrm.row][mtrxPrm.cell] = this.activeColor;\n      var x = mtrxPrm.cell * mtrxPrm.width;\n      var y = mtrxPrm.row * mtrxPrm.height;\n      canvas.drawActiveMatrixItem(x, y, mtrxPrm.width, mtrxPrm.height);\n    }\n  }, {\n    key: \"drawLine\",\n    value: function drawLine(x0, y0, x1, y1, width, height) {\n      var dx = Math.abs(x1 - x0);\n      var dy = Math.abs(y1 - y0);\n      var sx = x0 < x1 ? 1 : -1;\n      var sy = y0 < y1 ? 1 : -1;\n      var err = dx - dy;\n      var x = x0;\n      var y = y0;\n      var n = true;\n\n      while (n) {\n        this.drawCell({\n          cell: x,\n          row: y,\n          width: width,\n          height: height\n        });\n        if (x === x1 && y === y1) break;\n        var e2 = 2 * err;\n\n        if (e2 > -dy) {\n          err -= dy;\n          x += sx;\n        }\n\n        if (e2 < dx) {\n          err += dx;\n          y += sy;\n        }\n      }\n    }\n  }, {\n    key: \"drowByPenSize\",\n    value: function drowByPenSize(i, mtrxPrm) {\n      var newPrm = _objectSpread({}, mtrxPrm);\n\n      newPrm.row -= i;\n      if (this.previousCellPosition) this.previousCellPosition.row -= 1;\n      this.drawLineByCurrentPrm(newPrm);\n\n      var copy = _objectSpread({}, this.previousCellPosition);\n\n      for (var j = 0; j < i; j += 1) {\n        newPrm.cell -= 1;\n        if (this.previousCellPosition) this.previousCellPosition.cell -= 1;\n        this.drawLineByCurrentPrm(newPrm);\n      }\n\n      for (var v = 0; v < i; v += 1) {\n        newPrm.row += 1;\n        if (this.previousCellPosition) this.previousCellPosition.row += 1;\n        this.drawLineByCurrentPrm(newPrm);\n      }\n\n      if (this.previousCellPosition) this.previousCellPosition = copy;\n    }\n  }, {\n    key: \"penDraw\",\n    value: function penDraw(e) {\n      var canvas = this.canvas;\n      if (!this.isMouseDown && e.type !== 'click') return;\n\n      if (canvas.activeMatrixItem.color !== this.activeColor) {\n        canvas.setActiveMatrixItem(this.activeColor);\n      }\n\n      var penSize = this.penSize;\n      var mtrxPrm = this.getClickedMatrixParam(e);\n      this.drawLineByCurrentPrm(mtrxPrm);\n\n      for (var i = 1; i < penSize; i += 1) {\n        this.drowByPenSize(i, mtrxPrm);\n      }\n\n      this.previousCellPosition = mtrxPrm;\n      canvas.saveChanges();\n      this.isColorUsed = true;\n    }\n  }, {\n    key: \"strokeDraw\",\n    value: function strokeDraw(e) {\n      var canvas = this.canvas;\n\n      if (canvas.activeMatrixItem.color !== this.activeColor) {\n        canvas.setActiveMatrixItem(this.activeColor);\n      }\n\n      var mtrxPrm = this.getClickedMatrixParam(e);\n      this.drawLineByCurrentPrm(mtrxPrm);\n      this.previousCellPosition = mtrxPrm;\n      canvas.saveChanges();\n      this.isColorUsed = true;\n    }\n  }, {\n    key: \"drawLineByCurrentPrm\",\n    value: function drawLineByCurrentPrm(mtrxPrm) {\n      this.drawCell(mtrxPrm);\n\n      if (this.previousCellPosition) {\n        var x1 = this.previousCellPosition;\n        var x2 = mtrxPrm;\n        this.drawLine(x1.cell, x1.row, x2.cell, x2.row, x1.width, x1.height);\n      }\n    }\n  }, {\n    key: \"mouseOn\",\n    value: function mouseOn() {\n      this.isMouseDown = true;\n      this.previousCellPosition = null;\n    }\n  }, {\n    key: \"mouseOff\",\n    value: function mouseOff() {\n      this.isMouseDown = false;\n      this.previousCellPosition = null;\n    }\n  }]);\n\n  return Palette;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/palette/Palette.js?");
    /***/ }),

  /***/ './src/components/palette/PaletteSwitcher.js':
  /*! ***************************************************!*\
  !*** ./src/components/palette/PaletteSwitcher.js ***!
  \************************************************** */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PaletteSwitcher; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PaletteSwitcher =\n/*#__PURE__*/\nfunction () {\n  function PaletteSwitcher(palette) {\n    var _this = this;\n\n    _classCallCheck(this, PaletteSwitcher);\n\n    this.palette = palette;\n    this.canvas = palette.canvas.canvas;\n    this.canvas.style.cursor = 'pointer';\n    this.penDraw = palette.penDraw.bind(palette);\n    this.strokeDraw = palette.strokeDraw.bind(palette);\n    this.bucketFill = palette.bucketFill.bind(palette);\n    this.fillSame = palette.fillSame.bind(palette);\n    this.getUnderMouseColor = this.getUnderMouseColor.bind(this);\n    this.mouseOn = palette.mouseOn.bind(palette);\n    this.mouseOff = palette.mouseOff.bind(palette);\n    this.resize = palette.resize.bind(palette);\n    this.setInputColor = this.setInputColor.bind(this);\n    this.setPreviousColor = this.setPreviousColor.bind(this);\n    this.setPreviousCellPosition = palette.setPreviousCellPosition.bind(palette);\n    this.input = document.querySelector('[data-palette-input]');\n    this.penSizeSwitcher = document.getElementById('resizePen');\n    this.btnResizeCanvas = document.getElementById('resizeCanvas');\n    this.colorHolder = [document.querySelector('[data-palette-color-holder=\"current\"]'), document.querySelector('[data-palette-color-holder=\"previous\"]')];\n    this.setColor(this.palette.activeColor);\n    this.activateColor();\n    this.btnResizeCanvas.addEventListener('click', function (e) {\n      return _this.resize(+e.target.dataset.size);\n    });\n    this.penSizeSwitcher.addEventListener('click', function (e) {\n      return _this.setPenSize(e);\n    });\n  }\n\n  _createClass(PaletteSwitcher, [{\n    key: \"activateFillSame\",\n    value: function activateFillSame() {\n      this.canvas.addEventListener('click', this.fillSame);\n    }\n  }, {\n    key: \"unactivateFillSame\",\n    value: function unactivateFillSame() {\n      this.canvas.removeEventListener('click', this.fillSame);\n    }\n  }, {\n    key: \"activateColor\",\n    value: function activateColor() {\n      this.input.addEventListener('change', this.setInputColor);\n      document.addEventListener('click', this.setPreviousColor);\n      this.input.removeAttribute('disabled');\n      this.input.parentNode.parentNode.style.cursor = 'default';\n      this.input.style.cursor = 'pointer';\n    }\n  }, {\n    key: \"unactivateColor\",\n    value: function unactivateColor() {\n      this.input.removeEventListener('change', this.setInputColor);\n      document.removeEventListener('click', this.setPreviousColor);\n      this.input.setAttribute('disabled', 'disabled');\n      this.input.parentNode.parentNode.style.cursor = 'not-allowed';\n      this.input.style.cursor = 'not-allowed';\n    }\n  }, {\n    key: \"activateBucket\",\n    value: function activateBucket() {\n      this.canvas.addEventListener('click', this.bucketFill);\n    }\n  }, {\n    key: \"unactivateBucket\",\n    value: function unactivateBucket() {\n      this.canvas.removeEventListener('click', this.bucketFill);\n    }\n  }, {\n    key: \"activateEraser\",\n    value: function activateEraser() {\n      this.palette.activeColor = '#ffffff';\n      this.activatePen();\n      this.unactivateColor();\n    }\n  }, {\n    key: \"unactivateEraser\",\n    value: function unactivateEraser() {\n      this.palette.activeColor = localStorage.getItem('color') || 'white';\n      this.unactivatePen();\n      this.activateColor();\n    }\n  }, {\n    key: \"activatePen\",\n    value: function activatePen() {\n      this.canvas.addEventListener('click', this.penDraw);\n      this.canvas.addEventListener('mousemove', this.penDraw);\n      this.canvas.addEventListener('mousedown', this.mouseOn);\n      document.addEventListener('mouseup', this.mouseOff);\n      document.addEventListener('mousemove', this.setPreviousCellPosition);\n    }\n  }, {\n    key: \"unactivatePen\",\n    value: function unactivatePen() {\n      this.canvas.removeEventListener('click', this.penDraw);\n      this.canvas.removeEventListener('mousemove', this.penDraw);\n      this.canvas.removeEventListener('mousedown', this.mouseOn);\n      document.removeEventListener('mouseup', this.mouseOff);\n      document.removeEventListener('mousemove', this.setPreviousCellPosition);\n    }\n  }, {\n    key: \"activateStroke\",\n    value: function activateStroke() {\n      this.canvas.addEventListener('mouseup', this.strokeDraw);\n      this.canvas.addEventListener('mousedown', this.strokeDraw);\n      document.addEventListener('mouseup', this.mouseOff);\n      this.canvas.style.cursor = 'crosshair';\n    }\n  }, {\n    key: \"unactivateStroke\",\n    value: function unactivateStroke() {\n      this.canvas.removeEventListener('mouseup', this.strokeDraw);\n      this.canvas.removeEventListener('mousedown', this.strokeDraw);\n      document.removeEventListener('mouseup', this.mouseOff);\n      this.canvas.style.cursor = 'pointer';\n    }\n  }, {\n    key: \"activatePicker\",\n    value: function activatePicker() {\n      this.canvas.addEventListener('click', this.getUnderMouseColor);\n    }\n  }, {\n    key: \"unactivatePicker\",\n    value: function unactivatePicker() {\n      this.canvas.removeEventListener('click', this.getUnderMouseColor);\n    }\n  }, {\n    key: \"getUnderMouseColor\",\n    value: function getUnderMouseColor(e) {\n      var x = e.layerX;\n      var y = e.layerY;\n      var ctx = this.canvas.getContext('2d');\n      var pixel = ctx.getImageData(x, y, 1, 1);\n      var data = pixel.data;\n\n      var getHex = function getHex(d) {\n        return d | 1 << 8;\n      };\n\n      var hex = getHex(data[0]).toString(16).slice(1) + getHex(data[1]).toString(16).slice(1) + getHex(data[2]).toString(16).slice(1);\n      this.setColor(\"#\".concat(hex));\n    }\n  }, {\n    key: \"setPenSize\",\n    value: function setPenSize(e) {\n      this.penSizeSwitcher.querySelector('.active').classList.remove('active');\n      this.palette.penSize = +e.target.dataset.size;\n      e.target.classList.add('active');\n    }\n  }, {\n    key: \"setInputColor\",\n    value: function setInputColor() {\n      this.setColor(this.input.value);\n    }\n  }, {\n    key: \"setPreviousColor\",\n    value: function setPreviousColor(e) {\n      var color = e.target.dataset.color;\n\n      if (color) {\n        this.setColor(color);\n      }\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(color) {\n      this.palette.activeColor = color;\n      this.input.value = color;\n      var colorHolder = this.colorHolder;\n      if (colorHolder[0].dataset.color === color) return;\n\n      if (this.palette.isColorUsed) {\n        colorHolder[1].dataset.color = colorHolder[0].dataset.color;\n        this.palette.isColorUsed = false;\n      }\n\n      colorHolder[0].dataset.color = color;\n      localStorage.setItem('color', color);\n      colorHolder[0].style.backgroundColor = colorHolder[0].dataset.color;\n      colorHolder[1].style.backgroundColor = colorHolder[1].dataset.color;\n    }\n  }]);\n\n  return PaletteSwitcher;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/palette/PaletteSwitcher.js?");
    /***/ }),

  /***/ './src/components/palette/PaletteSwitcherController.js':
  /*! *************************************************************!*\
  !*** ./src/components/palette/PaletteSwitcherController.js ***!
  \************************************************************ */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PaletteSwitcherController; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PaletteSwitcherController =\n/*#__PURE__*/\nfunction () {\n  function PaletteSwitcherController(paletteSwitcher) {\n    _classCallCheck(this, PaletteSwitcherController);\n\n    this.menu = document.querySelector('[data-tools-menu]');\n    this.toogle = this.toogle.bind(this);\n    this.callById = {\n      pen: {\n        activate: paletteSwitcher.activatePen.bind(paletteSwitcher),\n        unactivate: paletteSwitcher.unactivatePen.bind(paletteSwitcher)\n      },\n      eraser: {\n        activate: paletteSwitcher.activateEraser.bind(paletteSwitcher),\n        unactivate: paletteSwitcher.unactivateEraser.bind(paletteSwitcher)\n      },\n      bucket: {\n        activate: paletteSwitcher.activateBucket.bind(paletteSwitcher),\n        unactivate: paletteSwitcher.unactivateBucket.bind(paletteSwitcher)\n      },\n      fillSame: {\n        activate: paletteSwitcher.activateFillSame.bind(paletteSwitcher),\n        unactivate: paletteSwitcher.unactivateFillSame.bind(paletteSwitcher)\n      },\n      stroke: {\n        activate: paletteSwitcher.activateStroke.bind(paletteSwitcher),\n        unactivate: paletteSwitcher.unactivateStroke.bind(paletteSwitcher)\n      },\n      picker: {\n        activate: paletteSwitcher.activatePicker.bind(paletteSwitcher),\n        unactivate: paletteSwitcher.unactivatePicker.bind(paletteSwitcher)\n      }\n    };\n  }\n\n  _createClass(PaletteSwitcherController, [{\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n\n      var activeTool = localStorage.getItem('tool') || 'pen';\n      this.toogle(activeTool);\n      this.menu.addEventListener('click', function (e) {\n        return _this.toogle(e.target.dataset.toolsId);\n      });\n    }\n  }, {\n    key: \"toogle\",\n    value: function toogle(toolId) {\n      if (!toolId) return;\n      var next = this.menu.querySelector(\"[data-tools-id=\\\"\".concat(toolId, \"\\\"]\"));\n      var prev = this.menu.querySelector('li.active');\n      if (next.classList.contains('active')) return;\n\n      if (prev) {\n        this.callById[prev.dataset.toolsId].unactivate();\n        prev.classList.remove('active', 'bg-secondary');\n      }\n\n      this.callById[toolId].activate();\n      next.classList.add('active', 'bg-secondary', 'border-0');\n      localStorage.setItem('tool', toolId);\n    }\n  }]);\n\n  return PaletteSwitcherController;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/palette/PaletteSwitcherController.js?");
    /***/ }),

  /***/ './src/components/shortcut/Shortcut.js':
  /*! *********************************************!*\
  !*** ./src/components/shortcut/Shortcut.js ***!
  \******************************************** */
  /*! exports provided: default */
  /***/ (function (module, __webpack_exports__, __webpack_require__) {
    eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Shortcut; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Shortcut =\n/*#__PURE__*/\nfunction () {\n  function Shortcut(data) {\n    var _this = this;\n\n    _classCallCheck(this, Shortcut);\n\n    this.keysItems = {};\n    this.modal = document.getElementById('modal');\n    this.btnOpenModal = document.getElementById('btnOpenModal');\n    this.btnCloseModal = document.getElementById('btnCloseModal');\n    this.btnSaveModal = document.getElementById('btnSaveModal');\n    this.inpList = this.modal ? this.modal.querySelectorAll('[data-item]') : null;\n    this.itemsList = document.querySelectorAll('[data-tip]');\n    this.tipEl = null;\n    this.tipTarget = null;\n    this.data = data;\n    this.itemsKeys = null;\n    document.addEventListener('mouseover', function (e) {\n      return _this.showTip(e);\n    });\n    document.addEventListener('mouseout', function (e) {\n      return _this.hideTip(e);\n    });\n  }\n\n  _createClass(Shortcut, [{\n    key: \"setItemKeys\",\n    value: function setItemKeys() {\n      var _this2 = this;\n\n      this.itemsKeys = JSON.parse(localStorage.getItem('itemsKeys'));\n      if (this.itemsKeys) return;\n      this.itemsKeys = {};\n      var data = this.data;\n      Object.keys(data).forEach(function (item) {\n        _this2.itemsKeys[item] = data[item].key;\n      });\n    }\n  }, {\n    key: \"hideTip\",\n    value: function hideTip(e) {\n      if (e.target === this.tipTarget) {\n        this.tipEl.remove();\n        this.tipEl = null;\n        this.tipTarget = null;\n      }\n    }\n  }, {\n    key: \"showTip\",\n    value: function showTip(e) {\n      if (this.tipTarget && !document.body.contains(this.tipTarget)) {\n        this.tipEl.remove();\n        this.tipEl = null;\n        this.tipTarget = null;\n      }\n\n      if (this.tipEl) return;\n      var target = e.target;\n      var tip = this.itemsKeys[target.dataset.tip];\n      if (!tip) return;\n      var tooltipElem = document.createElement('div');\n      tooltipElem.classList.add('bg-dark', 'text-light', 'p-1', 'rounded');\n      tooltipElem.style.position = 'fixed';\n      tooltipElem.textContent = \"(\".concat(tip, \")\");\n      document.body.appendChild(tooltipElem);\n      var coords = target.getBoundingClientRect();\n      var left = coords.left + target.offsetWidth;\n      if (left < 0) left = 0;\n      var top = coords.top;\n      this.tipEl = tooltipElem;\n      this.tipTarget = target;\n      tooltipElem.style.left = \"\".concat(left, \"px\");\n      tooltipElem.style.top = \"\".concat(top, \"px\");\n    }\n  }, {\n    key: \"saveItemsToLocal\",\n    value: function saveItemsToLocal() {\n      localStorage.setItem('itemsKeys', JSON.stringify(this.itemsKeys));\n    }\n  }, {\n    key: \"setItemCodes\",\n    value: function setItemCodes() {\n      var _this3 = this;\n\n      this.keysItems = {};\n      var itemsKeys = this.itemsKeys;\n      Object.keys(itemsKeys).forEach(function (key) {\n        _this3.keysItems[itemsKeys[key]] = key;\n      });\n      this.inpList.forEach(function (inp, i) {\n        var item = inp.dataset.item;\n        _this3.inpList[i].value = itemsKeys[item];\n      });\n    }\n  }, {\n    key: \"showModal\",\n    value: function showModal() {\n      this.modal.style.display = 'block';\n    }\n  }, {\n    key: \"disableModal\",\n    value: function disableModal() {\n      this.modal.style.display = 'none';\n    }\n  }, {\n    key: \"saveModal\",\n    value: function saveModal() {\n      var _this4 = this;\n\n      this.inpList.forEach(function (inp) {\n        var item = inp.dataset.item;\n        _this4.itemsKeys[item] = inp.value.toLowerCase();\n      });\n      this.setItemCodes();\n      this.saveItemsToLocal();\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this5 = this;\n\n      this.setItemKeys();\n      document.addEventListener('keydown', function (e) {\n        return _this5.callByKey(e);\n      });\n      this.btnCloseModal.addEventListener('click', function () {\n        return _this5.disableModal();\n      });\n      this.btnOpenModal.addEventListener('click', function () {\n        return _this5.showModal();\n      });\n      this.btnSaveModal.addEventListener('click', function () {\n        _this5.disableModal();\n\n        _this5.saveModal();\n      });\n      this.setItemCodes();\n    }\n  }, {\n    key: \"callByKey\",\n    value: function callByKey(e) {\n      var key = e.key.toLowerCase();\n      var item = this.keysItems[key];\n      if (!item) return;\n      var v = this.data[item];\n      v.f(v.arg);\n    }\n  }]);\n\n  return Shortcut;\n}();\n\n\n\n//# sourceURL=webpack:///./src/components/shortcut/Shortcut.js?");
    /***/ }),

  /***/ 0:
  /*! **********************!*\
  !*** multi ./app.js ***!
  \********************* */
  /*! no static exports found */
  /***/ (function (module, exports, __webpack_require__) {
    eval('module.exports = __webpack_require__(/*! ./app.js */"./app.js");\n\n\n//# sourceURL=webpack:///multi_./app.js?');
    /***/ }),

/** *** */ }));
